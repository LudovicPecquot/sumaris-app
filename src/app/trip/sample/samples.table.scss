
.table-container {
  --table-toolbar-height: 0px;
  height: calc(100% - var(--table-container-offset, 0px) - var(--table-toolbar-height));
  min-width: 100%;
  overflow: auto;

  &.has-toolbar {
    --table-toolbar-height: var(--mat-toolbar-height);
  }
  &.has-group-header .mat-header-row.second-header-row {
    th {
      top: 0 !important;
    }
  }

  .mat-table {
    .mat-header-row,
    .mat-row {

      .mat-column-id {
        width: 50px;
      }
      .mat-column-label,
      .mat-column-TAG_ID,
      .mat-column-DRESSING {
        min-width: 80px !important;
        max-width: 120px !important;;
      }

      .mat-column-taxonName,
      .mat-column-taxonGroup {
        min-width: 150px;
      }

      .mat-column-comments {
        min-width: 110px;
        max-width: 110px;
      }

      .mat-column-pmfm {
        min-width: calc(min(80px, 50vw / var(--pmfm-count)));
        max-width: calc(70vw / var(--pmfm-count));
      }

      // PMFM specific
      .mat-column-60,
      .mat-column-62 {
        min-width: 45px;
        max-width: 100px;
      }

      .mat-column-63,
      .mat-column-64,
      .mat-column-65,
      .mat-column-66,
      .mat-column-67,
      .mat-column-68,
      .mat-column-69,
      .mat-column-70,
      .mat-column-71 {
        max-width: 30px;
      }

      .mat-column-80 {
        max-width: 50px;
      }

      .mat-column-81 {
        max-width: 100px;
      }
    }

    /* First header row (group) */
    .mat-header-row.first-header-row {
      background-color: var(--mat-toolbar-background-color, whitesmoke);
      height: var(--mat-toolbar-height);
      --mat-cell-vertical-padding: 0;

      &.cdk-visually-hidden {
        visibility: hidden;
        display: none;
        height: 0!important;
      }

      .mat-header-cell {
        background-color: transparent;

        &.mat-column-top-start {
          padding-inline-start: 8px !important;
          color: unset;
        }
      }

      .mat-column-pmfm-group {
        text-align: center;
        border-top: 8px solid var(--mat-toolbar-background-color);

        &.even {
          background-color: var(--ion-color-medium) !important;
        }

        &.odd {
          background-color: var(--ion-color-light-shade, lightgray) !important;
        }
      }


    }

    // Normal row
    .mat-row {
      .mat-cell.mat-column-pmfm {
        &.even {
          background-color: rgba(var(--ion-color-light-rgb), 0.8) !important;
          color: var(--ion-color-light-contrast, black) !important;
        }
      }
    }


  }

  &.has-pmfm-header-details {


    /* Second header row : increase row height */
    .mat-header-row.second-header-row {
      position: sticky;
      top: 43px;
      z-index: 10;

      height: 90px;
      max-height: 90px;

      &.mat-sort-header-content {
        display: unset;
      }

      .mat-column-pmfm {
        max-height: 100%;
        overflow: hidden;

        mat-label,
        ion-label {
          height: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        &.even {
          background-color: var(--ion-color-light) !important;
        }

      }

      mat-label,
      ion-label {
        max-height: 90px;
        text-overflow: ellipsis;
      }
    }
  }

  &.mobile {
    .mat-column-pmfm {
      min-width: unset !important;
      max-width: unset !important;
    }

    .mat-column-comments {
      min-width: unset !important;
      max-width: unset !important;
      width: 40px !important;
      padding-left: 6px;
    }
  }
}
